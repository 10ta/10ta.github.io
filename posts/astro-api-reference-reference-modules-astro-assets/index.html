<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.16.7"><!-- Canonical URL --><link rel="canonical" href="https://10ta.github.io/posts/astro-api-reference-reference-modules-astro-assets/"><!-- Sitemap --><link rel="sitemap" href="/sitemap-index.xml"><!-- Primary Meta Tags --><title>Assets API Reference</title><meta name="title" content="Assets API Reference"><meta name="description" content=""><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://10ta.github.io/posts/astro-api-reference-reference-modules-astro-assets/"><meta property="og:title" content="Assets API Reference"><meta property="og:description" content=""><meta property="og:image" content="https://10ta.github.io/blog-placeholder-1.avif"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://10ta.github.io/posts/astro-api-reference-reference-modules-astro-assets/"><meta property="twitter:title" content="Assets API Reference"><meta property="twitter:description" content=""><meta property="twitter:image" content="https://10ta.github.io/blog-placeholder-1.avif"><link rel="stylesheet" href="/_astro/_page_.Bdwf1GY7.css"><script type="module" src="/_astro/hoisted.CPfS8Ggc.js"></script>
<script type="module" src="/_astro/page.DTIbhfSr.js"></script>
<script>!(function(w,p,f,c){if(!window.crossOriginIsolated && !navigator.serviceWorker) return;c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');/* Partytown 0.10.2 - MIT builder.io */
const t={preserveBehavior:!1},e=e=>{if("string"==typeof e)return[e,t];const[n,r=t]=e;return[n,{...t,...r}]},n=Object.freeze((t=>{const e=new Set;let n=[];do{Object.getOwnPropertyNames(n).forEach((t=>{"function"==typeof n[t]&&e.add(t)}))}while((n=Object.getPrototypeOf(n))!==Object.prototype);return Array.from(e)})());!function(t,r,o,i,a,s,c,d,l,p,u=t,f){function h(){f||(f=1,"/"==(c=(s.lib||"/~partytown/")+(s.debug?"debug/":""))[0]&&(l=r.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(v,1e4),r.addEventListener("pt0",w),a?y(1):o.serviceWorker?o.serviceWorker.register(c+(s.swPath||"partytown-sw.js"),{scope:c}).then((function(t){t.active?y():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&y()}))}),console.error):v())))}function y(e){p=r.createElement(e?"script":"iframe"),t._pttab=Date.now(),e||(p.style.display="block",p.style.width="0",p.style.height="0",p.style.border="0",p.style.visibility="hidden",p.setAttribute("aria-hidden",!0)),p.src=c+"partytown-"+(e?"atomics.js?v=0.10.2":"sandbox-sw.html?"+t._pttab),r.querySelector(s.sandboxParent||"body").appendChild(p)}function v(n,o){for(w(),i==t&&(s.forward||[]).map((function(n){const[r]=e(n);delete t[r.split(".")[0]]})),n=0;n<l.length;n++)(o=r.createElement("script")).innerHTML=l[n].innerHTML,o.nonce=s.nonce,r.head.appendChild(o);p&&p.parentNode.removeChild(p)}function w(){clearTimeout(d)}s=t.partytown||{},i==t&&(s.forward||[]).map((function(r){const[o,{preserveBehavior:i}]=e(r);u=t,o.split(".").map((function(e,r,o){var a;u=u[o[r]]=r+1<o.length?u[o[r]]||(a=o[r+1],n.includes(a)?[]:{}):(()=>{let e=null;if(i){const{methodOrProperty:n,thisObject:r}=((t,e)=>{let n=t;for(let t=0;t<e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length>0?n[e[e.length-1]]:void 0}})(t,o);"function"==typeof n&&(e=(...t)=>n.apply(r,...t))}return function(){let n;return e&&(n=e(arguments)),(t._ptf=t._ptf||[]).push(o,arguments),n}})()}))})),"complete"==r.readyState?h():(t.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h))}(window,document,navigator,top,window.crossOriginIsolated);;(e=>{e.addEventListener("astro:before-swap",e=>{let r=document.body.querySelector("iframe[src*='/~partytown/']");if(r)e.newDocument.body.append(r)})})(document);</script></head> <body class="flex flex-col min-h-screen mx-auto max-w-6xl px-4 dark:prose-invert sm:px-6 lg:px-8"> <header class="z-50 flex w-full flex-wrap py-7 md:flex-nowrap md:justify-start"> <nav class="relative mx-auto flex w-full max-w-7xl basis-full flex-wrap items-center px-4" aria-label="Global"> <div class=""> <a class="flex-none text-xl font-semibold" href="/" aria-label="Astroverse"> AstroMelody </a> </div> <div class="ms-auto flex items-center gap-x-2 py-1"> <a class="inline-flex items-center gap-x-2 rounded-xl border border-transparent px-3 py-2 text-sm font-medium disabled:pointer-events-none disabled:opacity-50" href="/search/" href="/search/"> <i class="icon-base i-tabler-search"></i> </a> <div class="dropdown dropdown-end"> <div tabindex="0" role="button" class="flex size-[38px] items-center justify-center rounded-xl text-sm font-semibold"> <i class="icon-base i-tabler-category-2"></i> </div> <ul tabindex="0" class="menu dropdown-content z-[1] w-52 rounded-box bg-base-100 p-2 shadow"> <li> <a href="/category/One/1/" class="px-4 py-3 font-medium"> One </a> </li><li> <a href="/category/Two/1/" class="px-4 py-3 font-medium"> Two </a> </li><li> <a href="/category/Three/1/" class="px-4 py-3 font-medium"> Three </a> </li> </ul> </div> <label class="swap swap-rotate rounded-xl px-3 py-2 text-sm"> <!-- this hidden checkbox controls the state --> <input type="checkbox" class="theme-controller" data-unchecked-value="corporate" value="halloween"> <!-- sun icon --> <i class="icon-base swap-off i-tabler-sun-filled"></i> <!-- moon icon --> <i class="icon-base swap-on i-tabler-moon-filled"></i> </label> </div> </nav> </header> <!-- Save theme to localStorage --> <script>
  const lightTheme =  document.querySelector('.theme-controller')?.getAttribute('data-unchecked-value');
  // ☝️ This script prevent the FART effect.
  if (localStorage.getItem("theme") === null) {
    document.documentElement.setAttribute("data-theme", lightTheme);
  } else
    document.documentElement.setAttribute(
      "data-theme",
      localStorage.getItem("theme"),
    );
  // "theme" LocalStorage value is set by the package to remember user preference.
  // The value is checked and applyed before rendering anything.
</script>  <!-- 内容区域，确保其动态调整高度 --> <main class="flex-grow">  <main> <article class="prose mx-auto dark:prose-invert"> <div class="prose-h1 text-center"> <h1>Assets API Reference</h1> </div> <div> <picture> <source srcset="/_astro/photo-1488972685288-c3fd157d7c7a_1paly5.avif 392w, /_astro/photo-1488972685288-c3fd157d7c7a_dC2sm.avif 700w, /_astro/photo-1488972685288-c3fd157d7c7a_Z2tOYxt.avif 980w, /_astro/photo-1488972685288-c3fd157d7c7a_czxcM.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1488972685288-c3fd157d7c7a_czxcM.avif" srcset="/_astro/photo-1488972685288-c3fd157d7c7a_1paly5.avif 392w, /_astro/photo-1488972685288-c3fd157d7c7a_dC2sm.avif 700w, /_astro/photo-1488972685288-c3fd157d7c7a_Z2tOYxt.avif 980w, /_astro/photo-1488972685288-c3fd157d7c7a_czxcM.avif 1960w" alt="low angle photography of gray building at daytime" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> </div> <div> <p><strong>Added in:</strong>
<code>astro@3.0.0</code></p>
<p>Astro provides built-in components and helper functions for optimizing and displaying your images. For features and usage examples, <a href="/en/guides/images/">see our image guide</a>.</p>
<h2 id="imports-from-astroassets">Imports from <code>astro:assets</code></h2>
<p><a href="#imports-from-astroassets">Section titled Imports from astro:assets</a></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>import {  Image,  Picture,  getImage,  inferRemoteSize, } from 'astro:assets';</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="image"><code>&#x3C;Image /></code></h3>
<p><a href="#image-">Section titled &#x26;lt;Image /&#x26;gt;</a></p>
<p>src/components/MyComponent.astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---// import the Image component and the imageimport { Image } from 'astro:assets';import myImage from "../assets/my_image.png"; // Image is 1600x900---</span></span>
<span class="line"><span>&#x3C;!-- `alt` is mandatory on the Image component -->&#x3C;Image src={myImage} alt="A description of my image." /></span></span>
<span class="line"><span></span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;!-- Output -->&#x3C;!-- Image is optimized, proper attributes are enforced -->&#x3C;img  src="/_astro/my_image.hash.webp"  width="1600"  height="900"  decoding="async"  loading="lazy"  alt="A description of my image."/></span></span>
<span class="line"><span></span></span></code></pre>
<h4 id="image-properties">Image properties</h4>
<p><a href="#image-properties">Section titled Image properties</a>
The <code>&#x3C;Image /></code> component accepts all properties accepted by the HTML <code>&#x3C;img></code> tag in addition to the properties described below.</p>
<h5 id="src-required">src (required)</h5>
<p><a href="#src-required">Section titled src (required)</a>
<strong>Type:</strong> <code>ImageMetadata | string | Promise&#x3C;{ default: ImageMetadata }></code></p>
<p>The format of the <code>src</code> value of your image file depends on where your image file is located:</p>
<ul>
<li><strong>Local images in <code>src/</code></strong> - you must <strong>also import the image</strong> using a relative file path or configure and use an <a href="/en/guides/imports/#aliases">import alias</a>. Then use the import name as the <code>src</code> value:</li>
</ul>
<p>src/pages/index.astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import { Image } from 'astro:assets';import myImportedImage from '../assets/my-local-image.png';---&#x3C;Image src={myImportedImage} alt="descriptive text" /></span></span>
<span class="line"><span></span></span></code></pre>
<ul>
<li><strong>Images in the <code>public/</code> folder</strong> - use the image’s <strong>file path relative to the public folder</strong>:</li>
</ul>
<p>src/pages/index.astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import { Image } from 'astro:assets';---&#x3C;Image  src="/images/my-public-image.png"  alt="descriptive text"  width="200"  height="150"/></span></span>
<span class="line"><span></span></span></code></pre>
<ul>
<li><strong>Remote images</strong> - use the image’s <strong>full URL</strong> as the property value:</li>
</ul>
<p>src/pages/index.astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import { Image } from 'astro:assets';---&#x3C;Image  src="https://example.com/remote-image.jpg"  alt="descriptive text"  width="200"  height="150"/></span></span>
<span class="line"><span></span></span></code></pre>
<h5 id="alt-required">alt (required)</h5>
<p><a href="#alt-required">Section titled alt (required)</a>
<strong>Type:</strong> <code>string</code></p>
<p>Use the required <code>alt</code> attribute to provide a string of <a href="https://www.w3.org/WAI/tutorials/images/">descriptive alt text</a> for images.</p>
<p>If an image is merely decorative (i.e. doesn’t contribute to the understanding of the page), set <code>alt=""</code> so that screen readers and other assistive technologies know to ignore the image.</p>
<h5 id="width-and-height-required-for-images-in-public">width and height (required for images in <code>public/</code>)</h5>
<p><a href="#width-and-height-required-for-images-in-public">Section titled width and height (required for images in public/)</a>
<strong>Type:</strong> <code>number | undefined</code></p>
<p>These properties define the dimensions to use for the image.</p>
<p>When using images in their original aspect ratio, <code>width</code> and <code>height</code> are optional. These dimensions can be automatically inferred from image files located in <code>src/</code>. For remote images, add <a href="#infersize">the <code>inferSize</code> attribute set to <code>true</code></a> on the <code>&#x3C;Image /></code> or <code>&#x3C;Picture /></code> component or use <a href="#inferremotesize"><code>inferRemoteSize()</code> function</a>.</p>
<p>However, both of these properties are required for images stored in your <code>public/</code> folder as Astro is unable to analyze these files.</p>
<h5 id="densities">densities</h5>
<p><a href="#densities">Section titled densities</a>
<strong>Type:</strong> <code>(number | </code>${number}x<code>)[] | undefined</code></p>
<p><strong>Added in:</strong>
<code>astro@3.3.0</code></p>
<p>A list of pixel densities to generate for the image.</p>
<p>If provided, this value will be used to generate a <code>srcset</code> attribute on the <code>&#x3C;img></code> tag. Do not provide a value for <code>widths</code> when using this value.</p>
<p>Densities that are equal to widths larger than the original image will be ignored to avoid upscaling the image.</p>
<p>src/components/MyComponent.astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import { Image } from 'astro:assets';import myImage from '../assets/my_image.png';---&#x3C;Image  src={myImage}  width={myImage.width / 2}  densities={[1.5, 2]}  alt="A description of my image."/></span></span>
<span class="line"><span></span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;!-- Output -->&#x3C;img  src="/_astro/my_image.hash.webp"  srcset="    /_astro/my_image.hash.webp 1.5x    /_astro/my_image.hash.webp 2x  "  alt="A description of my image."  width="800"  height="450"  loading="lazy"  decoding="async"/></span></span>
<span class="line"><span></span></span></code></pre>
<h5 id="widths">widths</h5>
<p><a href="#widths">Section titled widths</a>
<strong>Type:</strong> <code>number[] | undefined</code></p>
<p><strong>Added in:</strong>
<code>astro@3.3.0</code></p>
<p>A list of widths to generate for the image.</p>
<p>If provided, this value will be used to generate a <code>srcset</code> attribute on the <code>&#x3C;img></code> tag. A <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/sizes"><code>sizes</code> property</a> must also be provided.</p>
<p>Do not provide a value for <code>densities</code> when using this value. Only one of these two values can be used to generate a <code>srcset</code>.</p>
<p>Widths that are larger than the original image will be ignored to avoid upscaling the image.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import { Image } from 'astro:assets';import myImage from '../assets/my_image.png'; // Image is 1600x900---&#x3C;Image  src={myImage}  widths={[240, 540, 720, myImage.width]}  sizes={`(max-width: 360px) 240px, (max-width: 720px) 540px, (max-width: 1600px) 720px, ${myImage.width}px`}  alt="A description of my image."/></span></span>
<span class="line"><span></span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;!-- Output -->&#x3C;img  src="/_astro/my_image.hash.webp"  srcset="    /_astro/my_image.hash.webp 240w,    /_astro/my_image.hash.webp 540w,    /_astro/my_image.hash.webp 720w,    /_astro/my_image.hash.webp 1600w  "  sizes="    (max-width: 360px) 240px,    (max-width: 720px) 540px,    (max-width: 1600px) 720px,    1600px  "  alt="A description of my image."  width="1600"  height="900"  loading="lazy"  decoding="async"/></span></span>
<span class="line"><span></span></span></code></pre>
<h5 id="format">format</h5>
<p><a href="#format">Section titled format</a>
<strong>Type:</strong> <code>ImageOutputFormat | undefined</code></p>
<p>You can optionally state the <a href="https://developer.mozilla.org/en-US/docs/Web/Media/Formats/Image_types#common_image_file_types">image file type</a> output to be used.</p>
<p>By default, the <code>&#x3C;Image /></code> component will produce a <code>.webp</code> file.</p>
<h5 id="quality">quality</h5>
<p><a href="#quality">Section titled quality</a>
<strong>Type:</strong> <code>ImageQuality | undefined</code></p>
<p><code>quality</code> is an optional property that can either be:</p>
<ul>
<li>a preset (<code>low</code>, <code>mid</code>, <code>high</code>, <code>max</code>) that is automatically normalized between formats.</li>
<li>a number from <code>0</code> to <code>100</code> (interpreted differently between formats).</li>
</ul>
<h5 id="infersize">inferSize</h5>
<p><a href="#infersize">Section titled inferSize</a>
<strong>Type:</strong> <code>boolean</code></p>
<p><strong>Added in:</strong>
<code>astro@4.4.0</code></p>
<p>Allows you to set the original <code>width</code> and <code>height</code> of a remote image automatically.</p>
<p>By default, this value is set to <code>false</code> and you must manually specify both dimensions for your remote image.</p>
<p>Add <code>inferSize</code> to the <code>&#x3C;Image /></code> component (or <code>inferSize: true</code> to <code>getImage()</code>) to infer these values from the image content when fetched. This is helpful if you don’t know the dimensions of the remote image, or if they might change:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import { Image } from 'astro:assets';---&#x3C;Image src="https://example.com/cat.png" inferSize alt="A cat sleeping in the sun." /></span></span>
<span class="line"><span></span></span></code></pre>
<p><code>inferSize</code> can fetch the dimensions of a <a href="/en/guides/images/#authorizing-remote-images">remote image from a domain that has not been authorized</a>, however the image itself will remain unprocessed.</p>
<h3 id="picture"><code>&#x3C;Picture /></code></h3>
<p><a href="#picture-">Section titled &#x26;lt;Picture /&#x26;gt;</a></p>
<p><strong>Added in:</strong>
<code>astro@3.3.0</code></p>
<p>Use the built-in <code>&#x3C;Picture /></code> Astro component to display a responsive image with multiple formats and/or sizes.</p>
<p>src/pages/index.astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import { Picture } from 'astro:assets';import myImage from "../assets/my_image.png"; // Image is 1600x900---</span></span>
<span class="line"><span>&#x3C;!-- `alt` is mandatory on the Picture component -->&#x3C;Picture src={myImage} formats={['avif', 'webp']} alt="A description of my image." /></span></span>
<span class="line"><span></span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;!-- Output -->&#x3C;picture>  &#x3C;source srcset="/_astro/my_image.hash.avif" type="image/avif" />  &#x3C;source srcset="/_astro/my_image.hash.webp" type="image/webp" />  &#x3C;img    src="/_astro/my_image.hash.png"    width="1600"    height="900"    decoding="async"    loading="lazy"    alt="A description of my image."  />&#x3C;/picture></span></span>
<span class="line"><span></span></span></code></pre>
<h4 id="picture-properties">Picture properties</h4>
<p><a href="#picture-properties">Section titled Picture properties</a>
<code>&#x3C;Picture /></code> accepts all the properties of <a href="#image-properties">the <code>&#x3C;Image /></code> component</a>, plus the following:</p>
<h5 id="formats"><code>formats</code></h5>
<p><a href="#formats">Section titled formats</a>
<strong>Type:</strong> <code>ImageOutputFormat[]</code></p>
<p>An array of image formats to use for the <code>&#x3C;source></code> tags. Entries will be added as <code>&#x3C;source></code> elements in the order they are listed, and this order determines which format is displayed. For the best performance, list the most modern format first (e.g. <code>webp</code> or <code>avif</code>). By default, this is set to <code>['webp']</code>.</p>
<h5 id="fallbackformat"><code>fallbackFormat</code></h5>
<p><a href="#fallbackformat">Section titled fallbackFormat</a>
<strong>Type:</strong> <code>ImageOutputFormat</code></p>
<p>Format to use as a fallback value for the <code>&#x3C;img></code> tag. Defaults to <code>.png</code> for static images (or <code>.jpg</code> if the image is a JPG), <code>.gif</code> for animated images, and <code>.svg</code> for SVG files.</p>
<h5 id="pictureattributes"><code>pictureAttributes</code></h5>
<p><a href="#pictureattributes">Section titled pictureAttributes</a>
<strong>Type:</strong> <code>HTMLAttributes&#x3C;'picture'></code></p>
<p>An object of attributes to be added to the <code>&#x3C;picture></code> tag.</p>
<p>Use this property to apply attributes to the outer <code>&#x3C;picture></code> element itself. Attributes applied to the <code>&#x3C;Picture /></code> component directly will apply to the inner <code>&#x3C;img></code> element, except for those used for image transformation.</p>
<p>src/components/MyComponent.astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import { Picture } from "astro:assets";import myImage from "../my_image.png"; // Image is 1600x900---</span></span>
<span class="line"><span>&#x3C;Picture  src={myImage}  alt="A description of my image."  pictureAttributes={{ style: "background-color: red;" }}/></span></span>
<span class="line"><span></span></span></code></pre>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;!-- Output -->&#x3C;picture style="background-color: red;">  &#x3C;source srcset="/_astro/my_image.hash.webp" type="image/webp" />  &#x3C;img    src="/_astro/my_image.hash.png"    alt="A description of my image."    width="1600"    height="900"    loading="lazy"    decoding="async"  />&#x3C;/picture></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="getimage"><code>getImage()</code></h3>
<p><a href="#getimage">Section titled getImage()</a>
<strong>Type:</strong> <code>(options: UnresolvedImageTransform) => Promise&#x3C;GetImageResult></code></p>
<p>Caution</p>
<p><code>getImage()</code> relies on server-only APIs and breaks the build when used on the client.</p>
<p>The <code>getImage()</code> function is intended for generating images destined to be used somewhere else than directly in HTML, for example in an <a href="/en/guides/endpoints/#server-endpoints-api-routes">API Route</a>. It also allows you to create your own custom <code>&#x3C;Image /></code> component.</p>
<p><code>getImage()</code> takes an options object with the <a href="#image-properties">same properties as the Image component</a> (except <code>alt</code>).</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import { getImage } from "astro:assets";import myBackground from "../background.png"</span></span>
<span class="line"><span>const optimizedBackground = await getImage({src: myBackground, format: 'avif'})---</span></span>
<span class="line"><span>&#x3C;div style={`background-image: url(${optimizedBackground.src});`}>&#x3C;/div></span></span>
<span class="line"><span></span></span></code></pre>
<p>It returns an object with the following type:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>type GetImageResult = {  /* Additional HTML attributes needed to render the image (width, height, style, etc..) */  attributes: Record&#x3C;string, any>;  /* Validated parameters passed */  options: ImageTransform;  /* Original parameters passed */  rawOptions: ImageTransform;  /* Path to the generated image */  src: string;  srcSet: {    /* Generated values for srcset, every entry has a url and a size descriptor */    values: SrcSetValue[];    /* A value ready to use in`srcset` attribute */    attribute: string;  };}</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="inferremotesize">inferRemoteSize()</h3>
<p><a href="#inferremotesize">Section titled inferRemoteSize()</a>
<strong>Type:</strong> <code>(url: string) => Promise&#x3C;Omit&#x3C;ImageMetadata, 'src' | 'fsPath'>></code></p>
<p><strong>Added in:</strong>
<code>astro@4.12.0</code></p>
<p>A function to infer the dimensions of remote images. This can be used as an alternative to passing the <code>inferSize</code> property.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>import { inferRemoteSize } from 'astro:assets';const {width, height} = await inferRemoteSize("https://example.com/cat.png");</span></span>
<span class="line"><span></span></span></code></pre>
<p>Reference</p> </div> <div class="prose-a:no-underline flex gap-2"> <span class="badge badge-outline badge-md"> <a href="/tags/tutorial/1/">tutorial</a> </span><span class="badge badge-outline badge-md"> <a href="/tags/Go/1/">Go</a> </span><span class="badge badge-outline badge-md"> <a href="/tags/Less/1/">Less</a> </span> </div> <div class="mt-4 flex justify-between"> <small>Publish on <span class="font-weight-bold">2024-01-28</span>，Update on <span class="font-weight-bold">2025-01-09</span></small> </div> </article> <div class="mt-12"> <div class="grid grid-cols-1 gap-4 md:grid-cols-3"> <div class="card mb-4 overflow-hidden rounded-xl border  transition-transform duration-500 hover:-translate-y-1 hover:scale-105"> <a href="/posts/welcome-world-getting-started/"> <picture> <source srcset="/_astro/photo-1555883006-0f5a0915a80f_PusRg.avif 392w, /_astro/photo-1555883006-0f5a0915a80f_Zl2Pds.avif 700w, /_astro/photo-1555883006-0f5a0915a80f_21GgzD.avif 980w, /_astro/photo-1555883006-0f5a0915a80f_13KP0J.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1555883006-0f5a0915a80f_13KP0J.avif" srcset="/_astro/photo-1555883006-0f5a0915a80f_PusRg.avif 392w, /_astro/photo-1555883006-0f5a0915a80f_Zl2Pds.avif 700w, /_astro/photo-1555883006-0f5a0915a80f_21GgzD.avif 980w, /_astro/photo-1555883006-0f5a0915a80f_13KP0J.avif 1960w" alt="view of white metal tower through cherry blossom tree" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> <div class="card-body"> <div class="flex items-center gap-1 text-xs"> <span class="badge badge-outline">basics</span><span class="badge badge-outline">Javascript</span><span class="badge badge-outline">Less</span> </div> <p class="text-xs"><span class="font-weight-bold">2024-03-01</span></p> <h2 class="card-title">Getting Started</h2> </div> </a> </div><div class="card mb-4 overflow-hidden rounded-xl border  transition-transform duration-500 hover:-translate-y-1 hover:scale-105"> <a href="/posts/astro-api-reference-reference-api-reference/"> <picture> <source srcset="/_astro/photo-1514539079130-25950c84af65_ZG1oHX.avif 392w, /_astro/photo-1514539079130-25950c84af65_Z1RyHNG.avif 700w, /_astro/photo-1514539079130-25950c84af65_uanYp.avif 980w, /_astro/photo-1514539079130-25950c84af65_1abTbp.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1514539079130-25950c84af65_1abTbp.avif" srcset="/_astro/photo-1514539079130-25950c84af65_ZG1oHX.avif 392w, /_astro/photo-1514539079130-25950c84af65_Z1RyHNG.avif 700w, /_astro/photo-1514539079130-25950c84af65_uanYp.avif 980w, /_astro/photo-1514539079130-25950c84af65_1abTbp.avif 1960w" alt="closeup photo of castle with mist" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> <div class="card-body"> <div class="flex items-center gap-1 text-xs"> <span class="badge badge-outline">astro</span><span class="badge badge-outline">Go</span><span class="badge badge-outline">Sass</span> </div> <p class="text-xs"><span class="font-weight-bold">2024-02-25</span></p> <h2 class="card-title">Astro Runtime API</h2> </div> </a> </div><div class="card mb-4 overflow-hidden rounded-xl border  transition-transform duration-500 hover:-translate-y-1 hover:scale-105"> <a href="/posts/routes-and-navigation-guides-internationalization/"> <picture> <source srcset="/_astro/photo-1463130456064-77fda7f96d6b_ZAMhtG.avif 392w, /_astro/photo-1463130456064-77fda7f96d6b_Z1MkAzp.avif 700w, /_astro/photo-1463130456064-77fda7f96d6b_zovdG.avif 980w, /_astro/photo-1463130456064-77fda7f96d6b_Z1fOymS.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1463130456064-77fda7f96d6b_Z1fOymS.avif" srcset="/_astro/photo-1463130456064-77fda7f96d6b_ZAMhtG.avif 392w, /_astro/photo-1463130456064-77fda7f96d6b_Z1MkAzp.avif 700w, /_astro/photo-1463130456064-77fda7f96d6b_zovdG.avif 980w, /_astro/photo-1463130456064-77fda7f96d6b_Z1fOymS.avif 1960w" alt="white concrete building wall" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> <div class="card-body"> <div class="flex items-center gap-1 text-xs"> <span class="badge badge-outline">basics</span><span class="badge badge-outline">PHP</span><span class="badge badge-outline">Css</span> </div> <p class="text-xs"><span class="font-weight-bold">2024-02-23</span></p> <h2 class="card-title">Internationalization (i18n) Routing</h2> </div> </a> </div> </div> </div> </main>  </main> <footer class="mx-auto mt-auto w-full max-w-[85rem] py-10"> <nav class="mx-auto w-full max-w-[85rem] px-4" aria-label="Footer"> <div class="flex flex-col items-center sm:flex-row sm:justify-between"> <div id="navbar-alignment" class="internal-links sm:order-2"> <div class="mt-2 flex flex-row gap-5 sm:mt-0 sm:flex-row sm:items-center sm:ps-5"> <a href="/posts/core-concepts-concepts-why-astro/" class="inline-flex gap-x-2 text-sm"> Astro </a><a href="/posts/assets-guides-styling/" class="inline-flex gap-x-2 text-sm"> Styling </a><a href="/tags/" class="inline-flex gap-x-2 text-sm"> Tags </a> </div> </div> <div class="mt-2 flex flex-wrap gap-2 sm:order-3 sm:mb-0 sm:gap-0"> <button type="button" class="relative inline-flex h-12 w-12 items-center gap-x-2 px-4 py-3 disabled:pointer-events-none disabled:opacity-50"> <a href="/rss.xml" class="absolute inset-0 z-10" aria-label="RSS"></a> <i class="i-tabler-rss icon-base"></i> </button><button type="button" class="relative inline-flex h-12 w-12 items-center gap-x-2 px-4 py-3 disabled:pointer-events-none disabled:opacity-50"> <a href="https://twitter.com/astrodotbuild" class="absolute inset-0 z-10" aria-label="Twitter"></a> <i class="i-tabler-brand-twitter icon-base"></i> </button><button type="button" class="relative inline-flex h-12 w-12 items-center gap-x-2 px-4 py-3 disabled:pointer-events-none disabled:opacity-50"> <a href="https://github.com/isooosi" class="absolute inset-0 z-10" aria-label="GitHub"></a> <i class="i-tabler-brand-github icon-base"></i> </button> </div> <div class="mt-2 sm:order-1 sm:mb-0"> <a class="flex-none text-sm" href="/" aria-label="Brand">AstroMelody &copy; 2025</a> </div> </div> </nav> </footer> </body></html>