<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.16.7"><!-- Canonical URL --><link rel="canonical" href="https://10ta.github.io/posts/reference-guides-typescript/"><!-- Sitemap --><link rel="sitemap" href="/sitemap-index.xml"><!-- Primary Meta Tags --><title>TypeScript</title><meta name="title" content="TypeScript"><meta name="description" content="Learn how to use Astro's built-in TypeScript support."><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://10ta.github.io/posts/reference-guides-typescript/"><meta property="og:title" content="TypeScript"><meta property="og:description" content="Learn how to use Astro's built-in TypeScript support."><meta property="og:image" content="https://10ta.github.io/blog-placeholder-1.avif"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://10ta.github.io/posts/reference-guides-typescript/"><meta property="twitter:title" content="TypeScript"><meta property="twitter:description" content="Learn how to use Astro's built-in TypeScript support."><meta property="twitter:image" content="https://10ta.github.io/blog-placeholder-1.avif"><link rel="stylesheet" href="/_astro/_page_.Bdwf1GY7.css"><script type="module" src="/_astro/hoisted.CPfS8Ggc.js"></script>
<script type="module" src="/_astro/page.DTIbhfSr.js"></script>
<script>!(function(w,p,f,c){if(!window.crossOriginIsolated && !navigator.serviceWorker) return;c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');/* Partytown 0.10.2 - MIT builder.io */
const t={preserveBehavior:!1},e=e=>{if("string"==typeof e)return[e,t];const[n,r=t]=e;return[n,{...t,...r}]},n=Object.freeze((t=>{const e=new Set;let n=[];do{Object.getOwnPropertyNames(n).forEach((t=>{"function"==typeof n[t]&&e.add(t)}))}while((n=Object.getPrototypeOf(n))!==Object.prototype);return Array.from(e)})());!function(t,r,o,i,a,s,c,d,l,p,u=t,f){function h(){f||(f=1,"/"==(c=(s.lib||"/~partytown/")+(s.debug?"debug/":""))[0]&&(l=r.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(v,1e4),r.addEventListener("pt0",w),a?y(1):o.serviceWorker?o.serviceWorker.register(c+(s.swPath||"partytown-sw.js"),{scope:c}).then((function(t){t.active?y():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&y()}))}),console.error):v())))}function y(e){p=r.createElement(e?"script":"iframe"),t._pttab=Date.now(),e||(p.style.display="block",p.style.width="0",p.style.height="0",p.style.border="0",p.style.visibility="hidden",p.setAttribute("aria-hidden",!0)),p.src=c+"partytown-"+(e?"atomics.js?v=0.10.2":"sandbox-sw.html?"+t._pttab),r.querySelector(s.sandboxParent||"body").appendChild(p)}function v(n,o){for(w(),i==t&&(s.forward||[]).map((function(n){const[r]=e(n);delete t[r.split(".")[0]]})),n=0;n<l.length;n++)(o=r.createElement("script")).innerHTML=l[n].innerHTML,o.nonce=s.nonce,r.head.appendChild(o);p&&p.parentNode.removeChild(p)}function w(){clearTimeout(d)}s=t.partytown||{},i==t&&(s.forward||[]).map((function(r){const[o,{preserveBehavior:i}]=e(r);u=t,o.split(".").map((function(e,r,o){var a;u=u[o[r]]=r+1<o.length?u[o[r]]||(a=o[r+1],n.includes(a)?[]:{}):(()=>{let e=null;if(i){const{methodOrProperty:n,thisObject:r}=((t,e)=>{let n=t;for(let t=0;t<e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length>0?n[e[e.length-1]]:void 0}})(t,o);"function"==typeof n&&(e=(...t)=>n.apply(r,...t))}return function(){let n;return e&&(n=e(arguments)),(t._ptf=t._ptf||[]).push(o,arguments),n}})()}))})),"complete"==r.readyState?h():(t.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h))}(window,document,navigator,top,window.crossOriginIsolated);;(e=>{e.addEventListener("astro:before-swap",e=>{let r=document.body.querySelector("iframe[src*='/~partytown/']");if(r)e.newDocument.body.append(r)})})(document);</script></head> <body class="flex flex-col min-h-screen mx-auto max-w-6xl px-4 dark:prose-invert sm:px-6 lg:px-8"> <header class="z-50 flex w-full flex-wrap py-7 md:flex-nowrap md:justify-start"> <nav class="relative mx-auto flex w-full max-w-7xl basis-full flex-wrap items-center px-4" aria-label="Global"> <div class=""> <a class="flex-none text-xl font-semibold" href="/" aria-label="Astroverse"> AstroMelody </a> </div> <div class="ms-auto flex items-center gap-x-2 py-1"> <a class="inline-flex items-center gap-x-2 rounded-xl border border-transparent px-3 py-2 text-sm font-medium disabled:pointer-events-none disabled:opacity-50" href="/search/" href="/search/"> <i class="icon-base i-tabler-search"></i> </a> <div class="dropdown dropdown-end"> <div tabindex="0" role="button" class="flex size-[38px] items-center justify-center rounded-xl text-sm font-semibold"> <i class="icon-base i-tabler-category-2"></i> </div> <ul tabindex="0" class="menu dropdown-content z-[1] w-52 rounded-box bg-base-100 p-2 shadow"> <li> <a href="/category/One/1/" class="px-4 py-3 font-medium"> One </a> </li><li> <a href="/category/Two/1/" class="px-4 py-3 font-medium"> Two </a> </li><li> <a href="/category/Three/1/" class="px-4 py-3 font-medium"> Three </a> </li> </ul> </div> <label class="swap swap-rotate rounded-xl px-3 py-2 text-sm"> <!-- this hidden checkbox controls the state --> <input type="checkbox" class="theme-controller" data-unchecked-value="corporate" value="halloween"> <!-- sun icon --> <i class="icon-base swap-off i-tabler-sun-filled"></i> <!-- moon icon --> <i class="icon-base swap-on i-tabler-moon-filled"></i> </label> </div> </nav> </header> <!-- Save theme to localStorage --> <script>
  const lightTheme =  document.querySelector('.theme-controller')?.getAttribute('data-unchecked-value');
  // ☝️ This script prevent the FART effect.
  if (localStorage.getItem("theme") === null) {
    document.documentElement.setAttribute("data-theme", lightTheme);
  } else
    document.documentElement.setAttribute(
      "data-theme",
      localStorage.getItem("theme"),
    );
  // "theme" LocalStorage value is set by the package to remember user preference.
  // The value is checked and applyed before rendering anything.
</script>  <!-- 内容区域，确保其动态调整高度 --> <main class="flex-grow">  <main> <article class="prose mx-auto dark:prose-invert"> <div class="prose-h1 text-center"> <h1>TypeScript</h1> </div> <div> <picture> <source srcset="/_astro/photo-1483366774565-c783b9f70e2c_jGYEQ.avif 392w, /_astro/photo-1483366774565-c783b9f70e2c_ZQPjpR.avif 700w, /_astro/photo-1483366774565-c783b9f70e2c_1uSMne.avif 980w, /_astro/photo-1483366774565-c783b9f70e2c_21yqnd.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1483366774565-c783b9f70e2c_21yqnd.avif" srcset="/_astro/photo-1483366774565-c783b9f70e2c_jGYEQ.avif 392w, /_astro/photo-1483366774565-c783b9f70e2c_ZQPjpR.avif 700w, /_astro/photo-1483366774565-c783b9f70e2c_1uSMne.avif 980w, /_astro/photo-1483366774565-c783b9f70e2c_21yqnd.avif 1960w" alt="worm's-eye view photography of concrete building" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> </div> <div> <p>Astro ships with built-in support for <a href="https://www.typescriptlang.org/">TypeScript</a>. You can import <code>.ts</code> and <code>.tsx</code> files in your Astro project, write TypeScript code directly inside your <a href="/en/basics/astro-components/#the-component-script">Astro component</a>, and even use an <a href="/en/guides/configuring-astro/#the-astro-config-file"><code>astro.config.ts</code></a> file if you like.</p>
<p>Using TypeScript, you can prevent errors at runtime by defining the shapes of objects and components in your code. For example, if you use TypeScript to <a href="#component-props">type your component’s props</a>, you’ll get an error in your editor if you set a prop that your component doesn’t accept.</p>
<p>You don’t need to write TypeScript code in your Astro projects to benefit from it. Astro always treats your component code as TypeScript, and the <a href="/en/editor-setup/">Astro VSCode Extension</a> will infer as much as it can to provide autocompletion, hints, and errors in your editor.</p>
<p>The Astro dev server won’t perform any type checking, but you can use a <a href="#type-checking">separate script</a> to check for type errors from the command line.</p>
<h2 id="setup">Setup</h2>
<p><a href="#setup">Section titled Setup</a>
Astro starter projects include a <code>tsconfig.json</code> file in your project. Even if you don’t write TypeScript code, this file is important so that tools like Astro and VS Code know how to understand your project. Some features (like npm package imports) aren’t fully supported in the editor without a <code>tsconfig.json</code> file. If you install Astro manually, be sure to create this file yourself.</p>
<h3 id="typescript-templates">TypeScript templates</h3>
<p><a href="#typescript-templates">Section titled TypeScript templates</a>
Three extensible <code>tsconfig.json</code> templates are included in Astro: <code>base</code>, <code>strict</code>, and <code>strictest</code>. The <code>base</code> template enables support for modern JavaScript features and is also used as a basis for the other templates. We recommend using <code>strict</code> or <code>strictest</code> if you plan to write TypeScript in your project. You can view and compare the three template configurations at <a href="https://github.com/withastro/astro/blob/main/packages/astro/tsconfigs/">astro/tsconfigs/</a>.</p>
<p>To inherit from one of the templates, use <a href="https://www.typescriptlang.org/tsconfig#extends">the <code>extends</code> setting</a>:</p>
<p>tsconfig.json</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>{  "extends": "astro/tsconfigs/base"}</span></span>
<span class="line"><span></span></span></code></pre>
<p>Additionally, our templates include an <code>env.d.ts</code> file inside the <code>src</code> folder to provide <a href="https://vite.dev/guide/features.html#client-types">Vite’s client types</a> to your project:</p>
<p>env.d.ts</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>/// &#x3C;reference path="../.astro/types.d.ts" /></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="typescript-editor-plugin">TypeScript editor plugin</h3>
<p><a href="#typescript-editor-plugin">Section titled TypeScript editor plugin</a>
The <a href="https://www.npmjs.com/package/@astrojs/ts-plugin">Astro TypeScript plugin</a> can be installed separately when you are not using the <a href="https://marketplace.visualstudio.com/items?itemName=astro-build.astro-vscode">official Astro VS Code extension</a>. This plugin is automatically installed and configured by the VSCode extension, and you do not need to install both.</p>
<p>This plugin runs only in the editor. When running <code>tsc</code> in the terminal, <code>.astro</code> files are ignored entirely. Instead, you can use <a href="/en/reference/cli-reference/#astro-check">the <code>astro check</code> CLI command</a> to check both <code>.astro</code> and <code>.ts</code> files.
This plugin also supports importing <code>.astro</code> files from <code>.ts</code> files (which can be useful for re-exporting).</p>
<ul>
<li><a href="#tab-panel-495">npm</a></li>
<li><a href="#tab-panel-496">pnpm</a></li>
<li><a href="#tab-panel-497">Yarn</a></li>
</ul>
<p>Terminal window</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>npm install @astrojs/ts-plugin</span></span>
<span class="line"><span></span></span></code></pre>
<p>Terminal window</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>pnpm add @astrojs/ts-plugin</span></span>
<span class="line"><span></span></span></code></pre>
<p>Terminal window</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>yarn add @astrojs/ts-plugin</span></span>
<span class="line"><span></span></span></code></pre>
<p>Then, add the following to your <code>tsconfig.json</code>:</p>
<p>tsconfig.json</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>  "compilerOptions": {    "plugins": [      {        "name": "@astrojs/ts-plugin"      },    ],  }</span></span>
<span class="line"><span></span></span></code></pre>
<p>To check that the plugin is working, create a <code>.ts</code> file and import an Astro component into it. You should have no warning messages from your editor.</p>
<h3 id="ui-frameworks">UI Frameworks</h3>
<p><a href="#ui-frameworks">Section titled UI Frameworks</a>
If your project uses a <a href="/en/guides/framework-components/">UI framework</a>, additional settings depending on the framework might be needed. Please see your framework’s TypeScript documentation for more information. (<a href="https://vuejs.org/guide/typescript/overview.html#using-vue-with-typescript">Vue</a>, <a href="https://react-typescript-cheatsheet.netlify.app/docs/basic/setup">React</a>, <a href="https://preactjs.com/guide/v10/typescript">Preact</a>, <a href="https://www.solidjs.com/guides/typescript">Solid</a>)</p>
<h2 id="type-imports">Type Imports</h2>
<p><a href="#type-imports">Section titled Type Imports</a>
Use explicit type imports and exports whenever possible.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>import { SomeType } from './script';import type { SomeType } from './script';</span></span>
<span class="line"><span></span></span></code></pre>
<p>This way, you avoid edge cases where Astro’s bundler may try to incorrectly bundle your imported types as if they were JavaScript.</p>
<p>You can configure TypeScript to enforce type imports in your <code>tsconfig.json</code> file. Set <a href="https://www.typescriptlang.org/tsconfig#verbatimModuleSyntax"><code>verbatimModuleSyntax</code></a> to <code>true</code>. TypeScript will check your imports and tell you when <code>import type</code> should be used. This setting is enabled by default in all our presets.</p>
<p>tsconfig.json</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>  {    "compilerOptions": {      "verbatimModuleSyntax": true    }  }</span></span>
<span class="line"><span></span></span></code></pre>
<h2 id="import-aliases">Import Aliases</h2>
<p><a href="#import-aliases">Section titled Import Aliases</a>
Astro supports <a href="/en/guides/imports/#aliases">import aliases</a> that you define in your <code>tsconfig.json</code> <code>paths</code> configuration. <a href="/en/guides/imports/#aliases">Read our guide</a> to learn more.</p>
<p>src/pages/about/nate.astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import HelloWorld from '@components/HelloWorld.astro';import Layout from '@layouts/Layout.astro';---</span></span>
<span class="line"><span></span></span></code></pre>
<p>tsconfig.json</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>{  "compilerOptions": {    "baseUrl": ".",    "paths": {      "@components/*": ["src/components/*"],      "@layouts/*": ["src/layouts/*"]    }  }}</span></span>
<span class="line"><span></span></span></code></pre>
<h2 id="extending-window-and-globalthis">Extending <code>window</code> and <code>globalThis</code></h2>
<p><a href="#extending-window-and-globalthis">Section titled Extending window and globalThis</a>
You may want to add a property to the global object. You can do this by adding top-level declarations using the <code>declare</code> keyword to your <code>env.d.ts</code> file:</p>
<p>env.d.ts</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>declare var myString: string;declare function myFunction(): boolean;</span></span>
<span class="line"><span></span></span></code></pre>
<p>This will provide typing to <code>globalThis.myString</code> and <code>globalThis.myFunction</code>, as well as <code>window.myString</code> and <code>window.myFunction</code>.</p>
<p>Note that <code>window</code> is only available in client-side code. <code>globalThis</code> is available both server-side and client-side, but its server-side value won’t be shared with the client.</p>
<p>If you only want to type a property on the <code>window</code> object, provide a <code>Window</code> interface instead:</p>
<p>env.d.ts</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>interface Window {  myFunction(): boolean;}</span></span>
<span class="line"><span></span></span></code></pre>
<h2 id="component-props">Component Props</h2>
<p><a href="#component-props">Section titled Component Props</a>
Astro supports typing your component props via TypeScript. To enable, add a TypeScript <code>Props</code> interface to your component frontmatter. An <code>export</code> statement may be used, but is not necessary. The <a href="/en/editor-setup/">Astro VSCode Extension</a> will automatically look for the <code>Props</code> interface and give you proper TS support when you use that component inside another template.</p>
<p>src/components/HelloProps.astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---interface Props {  name: string;  greeting?: string;}const { greeting = 'Hello', name } = Astro.props;---&#x3C;h2>{greeting}, {name}!&#x3C;/h2></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="common-prop-type-patterns">Common prop type patterns</h3>
<p><a href="#common-prop-type-patterns">Section titled Common prop type patterns</a></p>
<ul>
<li>If your component takes no props or slotted content, you can use <code>type Props = Record&#x3C;string, never></code>.</li>
<li>If your component must be passed children to its default slot, you can enforce this by using <code>type Props = { children: any; };</code>.</li>
</ul>
<h2 id="type-utilities">Type Utilities</h2>
<p><a href="#type-utilities">Section titled Type Utilities</a></p>
<p><strong>Added in:</strong>
<code>astro@1.6.0</code></p>
<p>Astro comes with some built-in utility types for common prop type patterns. These are available under the <code>astro/types</code> entrypoint.</p>
<h3 id="built-in-html-attributes">Built-in HTML attributes</h3>
<p><a href="#built-in-html-attributes">Section titled Built-in HTML attributes</a>
Astro provides the <code>HTMLAttributes</code> type to check that your markup is using valid HTML attributes. You can use these types to help build component props.</p>
<p>For example, if you were building a <code>&#x3C;Link></code> component, you could do the following to mirror the default HTML attributes for <code>&#x3C;a></code> tags in your component’s prop types.</p>
<p>src/components/Link.astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import type { HTMLAttributes } from 'astro/types';// use a `type`type Props = HTMLAttributes&#x3C;'a'>;// or extend with an `interface`interface Props extends HTMLAttributes&#x3C;'a'> {  myProp?: boolean;}const { href, ...attrs } = Astro.props;---&#x3C;a href={href} {...attrs}>  &#x3C;slot />&#x3C;/a></span></span>
<span class="line"><span></span></span></code></pre>
<p>It is also possible to extend the default JSX definitions to add non-standard attributes by redeclaring the <code>astroHTML.JSX</code> namespace in a <code>.d.ts</code> file.</p>
<p>src/custom-attributes.d.ts</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>declare namespace astroHTML.JSX {  interface HTMLAttributes {    'data-count'?: number;    'data-label'?: string;  }</span></span>
<span class="line"><span>  // Add a CSS custom property to the style object  interface CSSProperties {    '--theme-color'?: 'black' | 'white';  }}</span></span>
<span class="line"><span></span></span></code></pre>
<p>Note</p>
<p><code>astroHTML</code> is injected globally inside <code>.astro</code> components. To use it in TypeScript files, use a <a href="https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html">triple-slash directive</a>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>/// &#x3C;reference types="astro/astro-jsx" /></span></span>
<span class="line"><span>type MyAttributes = astroHTML.JSX.ImgHTMLAttributes;</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="componentprops-type"><code>ComponentProps</code> type</h3>
<p><a href="#componentprops-type">Section titled ComponentProps type</a></p>
<p><strong>Added in:</strong>
<code>astro@4.3.0</code></p>
<p>This type export allows you to reference the <code>Props</code> accepted by another component, even if that component doesn’t export that <code>Props</code> type directly.</p>
<p>The following example shows using the <code>ComponentProps</code> utility from <code>astro/types</code> to reference a <code>&#x3C;Button /></code> component’s <code>Props</code> types:</p>
<p>src/pages/index.astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import type { ComponentProps } from 'astro/types';</span></span>
<span class="line"><span>import Button from "./Button.astro";</span></span>
<span class="line"><span>type ButtonProps = ComponentProps&#x3C;typeof Button>;---</span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="polymorphic-type">Polymorphic type</h3>
<p><a href="#polymorphic-type">Section titled Polymorphic type</a></p>
<p><strong>Added in:</strong>
<code>astro@2.5.0</code></p>
<p>Astro includes a helper to make it easier to build components that can render as different HTML elements with full type safety. This is useful for components like <code>&#x3C;Link></code> that can render as either <code>&#x3C;a></code> or <code>&#x3C;button></code> depending on the props passed to it.</p>
<p>The example below implements a fully-typed, polymorphic component that can render as any HTML element. The <a href="#built-in-html-attributes"><code>HTMLTag</code></a> type is used to ensure that the <code>as</code> prop is a valid HTML element.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import type { HTMLTag, Polymorphic } from 'astro/types';</span></span>
<span class="line"><span>type Props&#x3C;Tag extends HTMLTag> = Polymorphic&#x3C;{ as: Tag }>;</span></span>
<span class="line"><span>const { as: Tag, ...props } = Astro.props;---</span></span>
<span class="line"><span>&#x3C;Tag {...props} /></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="infer-getstaticpaths-types">Infer <code>getStaticPaths()</code> types</h3>
<p><a href="#infer-getstaticpaths-types">Section titled Infer getStaticPaths() types</a></p>
<p><strong>Added in:</strong>
<code>astro@2.1.0</code></p>
<p>Astro includes helpers for working with the types returned by your <a href="/en/reference/api-reference/#getstaticpaths"><code>getStaticPaths()</code></a> function for dynamic routes.</p>
<p>You can get the type of <a href="/en/reference/api-reference/#astroparams"><code>Astro.params</code></a> with <code>InferGetStaticParamsType</code> and the type of <a href="/en/reference/api-reference/#astroprops"><code>Astro.props</code></a> with <code>InferGetStaticPropsType</code>:</p>
<p>src/pages/posts/[…slug].astro</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import type { InferGetStaticParamsType, InferGetStaticPropsType, GetStaticPaths } from 'astro';</span></span>
<span class="line"><span>export const getStaticPaths = (async () => {  const posts = await getCollection('blog');  return posts.map((post) => {    return {      params: { slug: post.slug },      props: { draft: post.data.draft, title: post.data.title },    };  });}) satisfies GetStaticPaths;</span></span>
<span class="line"><span>type Params = InferGetStaticParamsType&#x3C;typeof getStaticPaths>;type Props = InferGetStaticPropsType&#x3C;typeof getStaticPaths>;</span></span>
<span class="line"><span>const { slug } = Astro.params as Params;//                      ^? { slug: string; }const { title } = Astro.props;//                      ^? { draft: boolean; title: string; }---</span></span>
<span class="line"><span></span></span></code></pre>
<h2 id="type-checking">Type checking</h2>
<p><a href="#type-checking">Section titled Type checking</a>
To see type errors in your editor, please make sure that you have the <a href="/en/editor-setup/">Astro VS Code extension</a> installed. Please note that the <code>astro start</code> and <code>astro build</code> commands will transpile the code with esbuild, but will not run any type checking. To prevent your code from building if it contains TypeScript errors, change your “build” script in <code>package.json</code> to the following:</p>
<p>package.json</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>  "scripts": {    "build": "astro build",    "build": "astro check &#x26;&#x26; astro build",  },</span></span>
<span class="line"><span></span></span></code></pre>
<p>Note</p>
<p><code>astro check</code> checks all the files included in your TypeScript project. To check types within Svelte and Vue files, you can use the <a href="https://www.npmjs.com/package/svelte-check"><code>svelte-check</code></a> and the <a href="https://www.npmjs.com/package/vue-tsc"><code>vue-tsc</code></a> packages respectively.</p>
<p>Read more about <a href="/en/guides/imports/#typescript"><code>.ts</code> file imports</a> in Astro.</p>
<p>Read more about <a href="https://www.typescriptlang.org/tsconfig/">TypeScript Configuration</a>.</p>
<h2 id="troubleshooting">Troubleshooting</h2>
<p><a href="#troubleshooting">Section titled Troubleshooting</a></p>
<h3 id="errors-typing-multiple-jsx-frameworks-at-the-same-time">Errors typing multiple JSX frameworks at the same time</h3>
<p><a href="#errors-typing-multiple-jsx-frameworks-at-the-same-time">Section titled Errors typing multiple JSX frameworks at the same time</a>
An issue may arise when using multiple JSX frameworks in the same project, as each framework requires different, sometimes conflicting, settings inside <code>tsconfig.json</code>.</p>
<p><strong>Solution</strong>: Set the <a href="https://www.typescriptlang.org/tsconfig#jsxImportSource"><code>jsxImportSource</code> setting</a> to <code>react</code> (default), <code>preact</code> or <code>solid-js</code> depending on your most-used framework. Then, use a <a href="https://www.typescriptlang.org/docs/handbook/jsx.html#configuring-jsx">pragma comment</a> inside any conflicting file from a different framework.</p>
<p>For the default setting of <code>jsxImportSource: react</code>, you would use:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>// For Preact/** @jsxImportSource preact */</span></span>
<span class="line"><span>// For Solid/** @jsxImportSource solid-js */</span></span>
<span class="line"><span></span></span></code></pre>
<p>Learn</p> </div> <div class="prose-a:no-underline flex gap-2"> <span class="badge badge-outline badge-md"> <a href="/tags/documentation/1/">documentation</a> </span><span class="badge badge-outline badge-md"> <a href="/tags/PHP/1/">PHP</a> </span><span class="badge badge-outline badge-md"> <a href="/tags/Css/1/">Css</a> </span> </div> <div class="mt-4 flex justify-between"> <small>Publish on <span class="font-weight-bold">2024-01-03</span>，Update on <span class="font-weight-bold">2025-01-09</span></small> </div> </article> <div class="mt-12"> <div class="grid grid-cols-1 gap-4 md:grid-cols-3"> <div class="card mb-4 overflow-hidden rounded-xl border  transition-transform duration-500 hover:-translate-y-1 hover:scale-105"> <a href="/posts/welcome-world-getting-started/"> <picture> <source srcset="/_astro/photo-1555883006-0f5a0915a80f_PusRg.avif 392w, /_astro/photo-1555883006-0f5a0915a80f_Zl2Pds.avif 700w, /_astro/photo-1555883006-0f5a0915a80f_21GgzD.avif 980w, /_astro/photo-1555883006-0f5a0915a80f_13KP0J.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1555883006-0f5a0915a80f_13KP0J.avif" srcset="/_astro/photo-1555883006-0f5a0915a80f_PusRg.avif 392w, /_astro/photo-1555883006-0f5a0915a80f_Zl2Pds.avif 700w, /_astro/photo-1555883006-0f5a0915a80f_21GgzD.avif 980w, /_astro/photo-1555883006-0f5a0915a80f_13KP0J.avif 1960w" alt="view of white metal tower through cherry blossom tree" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> <div class="card-body"> <div class="flex items-center gap-1 text-xs"> <span class="badge badge-outline">basics</span><span class="badge badge-outline">Javascript</span><span class="badge badge-outline">Less</span> </div> <p class="text-xs"><span class="font-weight-bold">2024-03-01</span></p> <h2 class="card-title">Getting Started</h2> </div> </a> </div><div class="card mb-4 overflow-hidden rounded-xl border  transition-transform duration-500 hover:-translate-y-1 hover:scale-105"> <a href="/posts/astro-api-reference-reference-api-reference/"> <picture> <source srcset="/_astro/photo-1514539079130-25950c84af65_ZG1oHX.avif 392w, /_astro/photo-1514539079130-25950c84af65_Z1RyHNG.avif 700w, /_astro/photo-1514539079130-25950c84af65_uanYp.avif 980w, /_astro/photo-1514539079130-25950c84af65_1abTbp.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1514539079130-25950c84af65_1abTbp.avif" srcset="/_astro/photo-1514539079130-25950c84af65_ZG1oHX.avif 392w, /_astro/photo-1514539079130-25950c84af65_Z1RyHNG.avif 700w, /_astro/photo-1514539079130-25950c84af65_uanYp.avif 980w, /_astro/photo-1514539079130-25950c84af65_1abTbp.avif 1960w" alt="closeup photo of castle with mist" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> <div class="card-body"> <div class="flex items-center gap-1 text-xs"> <span class="badge badge-outline">astro</span><span class="badge badge-outline">Go</span><span class="badge badge-outline">Sass</span> </div> <p class="text-xs"><span class="font-weight-bold">2024-02-25</span></p> <h2 class="card-title">Astro Runtime API</h2> </div> </a> </div><div class="card mb-4 overflow-hidden rounded-xl border  transition-transform duration-500 hover:-translate-y-1 hover:scale-105"> <a href="/posts/routes-and-navigation-guides-internationalization/"> <picture> <source srcset="/_astro/photo-1463130456064-77fda7f96d6b_ZAMhtG.avif 392w, /_astro/photo-1463130456064-77fda7f96d6b_Z1MkAzp.avif 700w, /_astro/photo-1463130456064-77fda7f96d6b_zovdG.avif 980w, /_astro/photo-1463130456064-77fda7f96d6b_Z1fOymS.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1463130456064-77fda7f96d6b_Z1fOymS.avif" srcset="/_astro/photo-1463130456064-77fda7f96d6b_ZAMhtG.avif 392w, /_astro/photo-1463130456064-77fda7f96d6b_Z1MkAzp.avif 700w, /_astro/photo-1463130456064-77fda7f96d6b_zovdG.avif 980w, /_astro/photo-1463130456064-77fda7f96d6b_Z1fOymS.avif 1960w" alt="white concrete building wall" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> <div class="card-body"> <div class="flex items-center gap-1 text-xs"> <span class="badge badge-outline">basics</span><span class="badge badge-outline">PHP</span><span class="badge badge-outline">Css</span> </div> <p class="text-xs"><span class="font-weight-bold">2024-02-23</span></p> <h2 class="card-title">Internationalization (i18n) Routing</h2> </div> </a> </div> </div> </div> </main>  </main> <footer class="mx-auto mt-auto w-full max-w-[85rem] py-10"> <nav class="mx-auto w-full max-w-[85rem] px-4" aria-label="Footer"> <div class="flex flex-col items-center sm:flex-row sm:justify-between"> <div id="navbar-alignment" class="internal-links sm:order-2"> <div class="mt-2 flex flex-row gap-5 sm:mt-0 sm:flex-row sm:items-center sm:ps-5"> <a href="/posts/core-concepts-concepts-why-astro/" class="inline-flex gap-x-2 text-sm"> Astro </a><a href="/posts/assets-guides-styling/" class="inline-flex gap-x-2 text-sm"> Styling </a><a href="/tags/" class="inline-flex gap-x-2 text-sm"> Tags </a> </div> </div> <div class="mt-2 flex flex-wrap gap-2 sm:order-3 sm:mb-0 sm:gap-0"> <button type="button" class="relative inline-flex h-12 w-12 items-center gap-x-2 px-4 py-3 disabled:pointer-events-none disabled:opacity-50"> <a href="/rss.xml" class="absolute inset-0 z-10" aria-label="RSS"></a> <i class="i-tabler-rss icon-base"></i> </button><button type="button" class="relative inline-flex h-12 w-12 items-center gap-x-2 px-4 py-3 disabled:pointer-events-none disabled:opacity-50"> <a href="https://twitter.com/astrodotbuild" class="absolute inset-0 z-10" aria-label="Twitter"></a> <i class="i-tabler-brand-twitter icon-base"></i> </button><button type="button" class="relative inline-flex h-12 w-12 items-center gap-x-2 px-4 py-3 disabled:pointer-events-none disabled:opacity-50"> <a href="https://github.com/isooosi" class="absolute inset-0 z-10" aria-label="GitHub"></a> <i class="i-tabler-brand-github icon-base"></i> </button> </div> <div class="mt-2 sm:order-1 sm:mb-0"> <a class="flex-none text-sm" href="/" aria-label="Brand">AstroMelody &copy; 2025</a> </div> </div> </nav> </footer> </body></html>