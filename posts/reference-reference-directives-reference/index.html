<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.16.7"><!-- Canonical URL --><link rel="canonical" href="https://10ta.github.io/posts/reference-reference-directives-reference/"><!-- Sitemap --><link rel="sitemap" href="/sitemap-index.xml"><!-- Primary Meta Tags --><title>Template Directives Reference</title><meta name="title" content="Template Directives Reference"><meta name="description" content=""><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://10ta.github.io/posts/reference-reference-directives-reference/"><meta property="og:title" content="Template Directives Reference"><meta property="og:description" content=""><meta property="og:image" content="https://10ta.github.io/blog-placeholder-1.avif"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://10ta.github.io/posts/reference-reference-directives-reference/"><meta property="twitter:title" content="Template Directives Reference"><meta property="twitter:description" content=""><meta property="twitter:image" content="https://10ta.github.io/blog-placeholder-1.avif"><link rel="stylesheet" href="/_astro/_page_.Bdwf1GY7.css"><script type="module" src="/_astro/hoisted.CPfS8Ggc.js"></script>
<script type="module" src="/_astro/page.DTIbhfSr.js"></script>
<script>!(function(w,p,f,c){if(!window.crossOriginIsolated && !navigator.serviceWorker) return;c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');/* Partytown 0.10.2 - MIT builder.io */
const t={preserveBehavior:!1},e=e=>{if("string"==typeof e)return[e,t];const[n,r=t]=e;return[n,{...t,...r}]},n=Object.freeze((t=>{const e=new Set;let n=[];do{Object.getOwnPropertyNames(n).forEach((t=>{"function"==typeof n[t]&&e.add(t)}))}while((n=Object.getPrototypeOf(n))!==Object.prototype);return Array.from(e)})());!function(t,r,o,i,a,s,c,d,l,p,u=t,f){function h(){f||(f=1,"/"==(c=(s.lib||"/~partytown/")+(s.debug?"debug/":""))[0]&&(l=r.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(d=setTimeout(v,1e4),r.addEventListener("pt0",w),a?y(1):o.serviceWorker?o.serviceWorker.register(c+(s.swPath||"partytown-sw.js"),{scope:c}).then((function(t){t.active?y():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&y()}))}),console.error):v())))}function y(e){p=r.createElement(e?"script":"iframe"),t._pttab=Date.now(),e||(p.style.display="block",p.style.width="0",p.style.height="0",p.style.border="0",p.style.visibility="hidden",p.setAttribute("aria-hidden",!0)),p.src=c+"partytown-"+(e?"atomics.js?v=0.10.2":"sandbox-sw.html?"+t._pttab),r.querySelector(s.sandboxParent||"body").appendChild(p)}function v(n,o){for(w(),i==t&&(s.forward||[]).map((function(n){const[r]=e(n);delete t[r.split(".")[0]]})),n=0;n<l.length;n++)(o=r.createElement("script")).innerHTML=l[n].innerHTML,o.nonce=s.nonce,r.head.appendChild(o);p&&p.parentNode.removeChild(p)}function w(){clearTimeout(d)}s=t.partytown||{},i==t&&(s.forward||[]).map((function(r){const[o,{preserveBehavior:i}]=e(r);u=t,o.split(".").map((function(e,r,o){var a;u=u[o[r]]=r+1<o.length?u[o[r]]||(a=o[r+1],n.includes(a)?[]:{}):(()=>{let e=null;if(i){const{methodOrProperty:n,thisObject:r}=((t,e)=>{let n=t;for(let t=0;t<e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length>0?n[e[e.length-1]]:void 0}})(t,o);"function"==typeof n&&(e=(...t)=>n.apply(r,...t))}return function(){let n;return e&&(n=e(arguments)),(t._ptf=t._ptf||[]).push(o,arguments),n}})()}))})),"complete"==r.readyState?h():(t.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h))}(window,document,navigator,top,window.crossOriginIsolated);;(e=>{e.addEventListener("astro:before-swap",e=>{let r=document.body.querySelector("iframe[src*='/~partytown/']");if(r)e.newDocument.body.append(r)})})(document);</script></head> <body class="flex flex-col min-h-screen mx-auto max-w-6xl px-4 dark:prose-invert sm:px-6 lg:px-8"> <header class="z-50 flex w-full flex-wrap py-7 md:flex-nowrap md:justify-start"> <nav class="relative mx-auto flex w-full max-w-7xl basis-full flex-wrap items-center px-4" aria-label="Global"> <div class=""> <a class="flex-none text-xl font-semibold" href="/" aria-label="Astroverse"> AstroMelody </a> </div> <div class="ms-auto flex items-center gap-x-2 py-1"> <a class="inline-flex items-center gap-x-2 rounded-xl border border-transparent px-3 py-2 text-sm font-medium disabled:pointer-events-none disabled:opacity-50" href="/search/" href="/search/"> <i class="icon-base i-tabler-search"></i> </a> <div class="dropdown dropdown-end"> <div tabindex="0" role="button" class="flex size-[38px] items-center justify-center rounded-xl text-sm font-semibold"> <i class="icon-base i-tabler-category-2"></i> </div> <ul tabindex="0" class="menu dropdown-content z-[1] w-52 rounded-box bg-base-100 p-2 shadow"> <li> <a href="/category/One/1/" class="px-4 py-3 font-medium"> One </a> </li><li> <a href="/category/Two/1/" class="px-4 py-3 font-medium"> Two </a> </li><li> <a href="/category/Three/1/" class="px-4 py-3 font-medium"> Three </a> </li> </ul> </div> <label class="swap swap-rotate rounded-xl px-3 py-2 text-sm"> <!-- this hidden checkbox controls the state --> <input type="checkbox" class="theme-controller" data-unchecked-value="corporate" value="halloween"> <!-- sun icon --> <i class="icon-base swap-off i-tabler-sun-filled"></i> <!-- moon icon --> <i class="icon-base swap-on i-tabler-moon-filled"></i> </label> </div> </nav> </header> <!-- Save theme to localStorage --> <script>
  const lightTheme =  document.querySelector('.theme-controller')?.getAttribute('data-unchecked-value');
  // ☝️ This script prevent the FART effect.
  if (localStorage.getItem("theme") === null) {
    document.documentElement.setAttribute("data-theme", lightTheme);
  } else
    document.documentElement.setAttribute(
      "data-theme",
      localStorage.getItem("theme"),
    );
  // "theme" LocalStorage value is set by the package to remember user preference.
  // The value is checked and applyed before rendering anything.
</script>  <!-- 内容区域，确保其动态调整高度 --> <main class="flex-grow">  <main> <article class="prose mx-auto dark:prose-invert"> <div class="prose-h1 text-center"> <h1>Template Directives Reference</h1> </div> <div> <picture> <source srcset="/_astro/photo-1414438992182-69e404046f80_ZV2v1D.avif 392w, /_astro/photo-1414438992182-69e404046f80_Z27zO7m.avif 700w, /_astro/photo-1414438992182-69e404046f80_f9hFJ.avif 980w, /_astro/photo-1414438992182-69e404046f80_Z1na9tu.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1414438992182-69e404046f80_Z1na9tu.avif" srcset="/_astro/photo-1414438992182-69e404046f80_ZV2v1D.avif 392w, /_astro/photo-1414438992182-69e404046f80_Z27zO7m.avif 700w, /_astro/photo-1414438992182-69e404046f80_f9hFJ.avif 980w, /_astro/photo-1414438992182-69e404046f80_Z1na9tu.avif 1960w" alt="Leaning Tower of Pisa, Italy" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> </div> <div> <p><strong>Template directives</strong> are a special kind of HTML attribute available inside of any Astro component template (<code>.astro</code> files), and some can also be used in <code>.mdx</code> files.</p>
<p>Template directives are used to control an element or component’s behavior in some way. A template directive could enable some compiler feature that makes your life easier (like using <code>class:list</code> instead of <code>class</code>). Or, a directive could tell the Astro compiler to do something special with that component (like hydrating with <code>client:load</code>).</p>
<p>This page describes all of the template directives available to you in Astro, and how they work.</p>
<h2 id="rules">Rules</h2>
<p><a href="#rules">Section titled Rules</a>
For a template directive to be valid, it must:</p>
<ul>
<li>Include a colon <code>:</code> in its name, using the form <code>X:Y</code> (ex: <code>client:load</code>).</li>
<li>Be visible to the compiler (ex: <code>&#x3C;X {...attr}></code> would not work if <code>attr</code> contained a directive).</li>
</ul>
<p>Some template directives, but not all, can take a custom value:</p>
<ul>
<li><code>&#x3C;X client:load /></code> (takes no value)</li>
<li><code>&#x3C;X class:list={['some-css-class']} /></code> (takes an array)</li>
</ul>
<p>A template directive is never included directly in the final HTML output of a component.</p>
<h2 id="common-directives">Common Directives</h2>
<p><a href="#common-directives">Section titled Common Directives</a></p>
<h3 id="classlist"><code>class:list</code></h3>
<p><a href="#classlist">Section titled class:list</a>
<code>class:list={...}</code> takes an array of class values and converts them into a class string. This is powered by @lukeed’s popular <a href="https://github.com/lukeed/clsx">clsx</a> helper library.</p>
<p><code>class:list</code> takes an array of several different possible value kinds:</p>
<ul>
<li><code>string</code>: Added to the element <code>class</code></li>
<li><code>Object</code>: All truthy keys are added to the element <code>class</code></li>
<li><code>Array</code>: flattened</li>
<li><code>false</code>, <code>null</code>, or <code>undefined</code>: skipped</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;!-- This -->&#x3C;span class:list={[ 'hello goodbye', { world: true }, [ 'friend' ] ]} />&#x3C;!-- Becomes -->&#x3C;span class="hello goodbye world friend">&#x3C;/span></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="sethtml"><code>set:html</code></h3>
<p><a href="#sethtml">Section titled set:html</a>
<code>set:html={string}</code> injects an HTML string into an element, similar to setting <code>el.innerHTML</code>.</p>
<p><strong>The value is not automatically escaped by Astro!</strong> Be sure that you trust the value, or that you have escaped it manually before passing it to the template. Forgetting to do this will open you up to <a href="https://owasp.org/www-community/attacks/xss/">Cross Site Scripting (XSS) attacks.</a></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---const rawHTMLString = "Hello &#x3C;strong>World&#x3C;/strong>"---&#x3C;h1>{rawHTMLString}&#x3C;/h1>  &#x3C;!-- Output: &#x3C;h1>Hello &#x26;lt;strong&#x26;gt;World&#x26;lt;/strong&#x26;gt;&#x3C;/h1> -->&#x3C;h1 set:html={rawHTMLString} />  &#x3C;!-- Output: &#x3C;h1>Hello &#x3C;strong>World&#x3C;/strong>&#x3C;/h1> --></span></span>
<span class="line"><span></span></span></code></pre>
<p>You can also use <code>set:html</code> on a <code>&#x3C;Fragment></code> to avoid adding an unnecessary wrapper element. This can be especially useful when fetching HTML from a CMS.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---const cmsContent = await fetchHTMLFromMyCMS();---&#x3C;Fragment set:html={cmsContent}></span></span>
<span class="line"><span></span></span></code></pre>
<p><code>set:html={Promise&#x3C;string>}</code> injects an HTML string into an element that is wrapped in a Promise.</p>
<p>This can be used to inject HTML stored externally, such as in a database.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import api from '../db/api.js';---&#x3C;article set:html={api.getArticle(Astro.props.id)}>&#x3C;/article></span></span>
<span class="line"><span></span></span></code></pre>
<p><code>set:html={Promise&#x3C;Response>}</code> injects a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">Response</a> into an element.</p>
<p>This is most helpful when using <code>fetch()</code>. For example, fetching old posts from a previous static-site generator.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;article set:html={fetch('http://example/old-posts/making-soup.html')}>&#x3C;/article></span></span>
<span class="line"><span></span></span></code></pre>
<p><code>set:html</code> can be used on any tag and does not have to include HTML. For example, use with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify"><code>JSON.stringify()</code></a> on a <code>&#x3C;script></code> tag to add a <a href="https://json-ld.org/">JSON-LD</a> schema to your page.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;script type="application/ld+json" set:html={JSON.stringify({  "@context": "https://schema.org/",  "@type": "Person",  name: "Houston",  hasOccupation: {    "@type": "Occupation",    name: "Astronaut"  }})}/></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="settext"><code>set:text</code></h3>
<p><a href="#settext">Section titled set:text</a>
<code>set:text={string}</code> injects a text string into an element, similar to setting <code>el.innerText</code>. Unlike <code>set:html</code>, the <code>string</code> value that is passed is automatically escaped by Astro.</p>
<p>This is equivalent to just passing a variable into a template expression directly (ex: <code>&#x3C;div>{someText}&#x3C;/div></code>) and therefore this directive is not commonly used.</p>
<h2 id="client-directives">Client Directives</h2>
<p><a href="#client-directives">Section titled Client Directives</a>
These directives control how <a href="/en/guides/framework-components/">UI Framework components</a> are hydrated on the page.</p>
<p>By default, a UI Framework component is not hydrated in the client. If no <code>client:*</code> directive is provided, its HTML is rendered onto the page without JavaScript.</p>
<p>A client directive can only be used on a UI framework component that is directly imported into a <code>.astro</code> component. Hydration directives are not supported when using <a href="/en/basics/astro-syntax/#dynamic-tags">dynamic tags</a> and <a href="/en/guides/integrations-guide/mdx/#custom-components-with-imported-mdx">custom components passed via the <code>components</code> prop</a>.</p>
<h3 id="clientload"><code>client:load</code></h3>
<p><a href="#clientload">Section titled client:load</a></p>
<ul>
<li><strong>Priority:</strong> High</li>
<li><strong>Useful for:</strong> Immediately-visible UI elements that need to be interactive as soon as possible.</li>
</ul>
<p>Load and hydrate the component JavaScript immediately on page load.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;BuyButton client:load /></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="clientidle"><code>client:idle</code></h3>
<p><a href="#clientidle">Section titled client:idle</a></p>
<ul>
<li><strong>Priority:</strong> Medium</li>
<li><strong>Useful for:</strong> Lower-priority UI elements that don’t need to be immediately interactive.</li>
</ul>
<p>Load and hydrate the component JavaScript once the page is done with its initial load and the <code>requestIdleCallback</code> event has fired. If you are in a browser that doesn’t support <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/requestIdleCallback"><code>requestIdleCallback</code></a>, then the document <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event"><code>load</code></a> event is used.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;ShowHideButton client:idle /></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="timeout"><code>timeout</code></h3>
<p><a href="#timeout">Section titled timeout</a></p>
<p><strong>Added in:</strong>
<code>astro@4.15.0</code></p>
<p>The maximum time to wait, in milliseconds, before hydrating the component, even if the page is not yet done with its initial load.</p>
<p>This allows you to pass a value for <a href="https://www.w3.org/TR/requestidlecallback/#the-requestidlecallback-method">the <code>timeout</code> option from the <code>requestIdleCallback()</code> specification</a>. This means you can delay hydration for lower-priority UI elements with more control to ensure your element is interactive within a specified time frame.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;ShowHideButton client:idle={{timeout: 500}} /></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="clientvisible"><code>client:visible</code></h3>
<p><a href="#clientvisible">Section titled client:visible</a></p>
<ul>
<li><strong>Priority:</strong> Low</li>
<li><strong>Useful for:</strong> Low-priority UI elements that are either far down the page (“below the fold”) or so resource-intensive to load that you would prefer not to load them at all if the user never saw the element.</li>
</ul>
<p>Load and hydrate the component JavaScript once the component has entered the user’s viewport. This uses an <code>IntersectionObserver</code> internally to keep track of visibility.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;HeavyImageCarousel client:visible /></span></span>
<span class="line"><span></span></span></code></pre>
<h4 id="clientvisiblerootmargin"><code>client:visible={{rootMargin}}</code></h4>
<p><a href="#clientvisiblerootmargin">Section titled client:visible={{rootMargin}}</a></p>
<p><strong>Added in:</strong>
<code>astro@4.1.0</code></p>
<p>Optionally, a value for <code>rootMargin</code> can be passed to the underlying <code>IntersectionObserver</code>. When <code>rootMargin</code> is specified, the component JavaScript will hydrate when a specified margin (in pixels) around the component enters the viewport, rather than the component itself.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;HeavyImageCarousel client:visible={{rootMargin: "200px"}} /></span></span>
<span class="line"><span></span></span></code></pre>
<p>Specifying a <code>rootMargin</code> value can reduce layout shifts (CLS), allow more time for a component to hydrate on slower internet connections, and make components interactive sooner, enhancing the stability and responsiveness of the page.</p>
<h3 id="clientmedia"><code>client:media</code></h3>
<p><a href="#clientmedia">Section titled client:media</a></p>
<ul>
<li><strong>Priority:</strong> Low</li>
<li><strong>Useful for:</strong> Sidebar toggles, or other elements that might only be visible on certain screen sizes.</li>
</ul>
<p><code>client:media={string}</code> loads and hydrates the component JavaScript once a certain CSS media query is met.</p>
<p>Note</p>
<p>If the component is already hidden and shown by a media query in your CSS, then it can be easier to just use <code>client:visible</code> and not pass that same media query into the directive.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;SidebarToggle client:media="(max-width: 50em)" /></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="clientonly"><code>client:only</code></h3>
<p><a href="#clientonly">Section titled client:only</a>
<code>client:only={string}</code> <strong>skips</strong> HTML server-rendering, and renders only on the client. It acts similarly to <code>client:load</code> in that it loads, renders, and hydrates the component immediately on page load.</p>
<p><strong>You must pass the component’s correct framework as a value!</strong> Because Astro doesn’t run the component during your build / on the server, Astro doesn’t know what framework your component uses unless you tell it explicitly.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;SomeReactComponent client:only="react" />&#x3C;SomePreactComponent client:only="preact" />&#x3C;SomeSvelteComponent client:only="svelte" />&#x3C;SomeVueComponent client:only="vue" />&#x3C;SomeSolidComponent client:only="solid-js" />&#x3C;SomeLitComponent client:only="lit" /></span></span>
<span class="line"><span></span></span></code></pre>
<h4 id="display-loading-content">Display loading content</h4>
<p><a href="#display-loading-content">Section titled Display loading content</a>
For components that render only on the client, it is also possible to display fallback content while they are loading. Use <code>slot="fallback"</code> on any child element to create content that will be displayed only until your client component is available:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;ClientComponent client:only="vue">  &#x3C;div slot="fallback">Loading&#x3C;/div>&#x3C;/ClientComponent></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="custom-client-directives">Custom Client Directives</h3>
<p><a href="#custom-client-directives">Section titled Custom Client Directives</a>
Since Astro 2.6.0, integrations can also add custom <code>client:*</code> directives to change how and when components should be hydrated.</p>
<p>Visit the <a href="/en/reference/integrations-reference/#addclientdirective-option"><code>addClientDirective</code> API</a> page to learn more about creating a custom client directive.</p>
<h2 id="script--style-directives">Script &#x26; Style Directives</h2>
<p><a href="#script--style-directives">Section titled Script &#x26;amp; Style Directives</a>
These directives can only be used on HTML <code>&#x3C;script></code> and <code>&#x3C;style></code> tags, to control how your client-side JavaScript and CSS are handled on the page.</p>
<h3 id="isglobal"><code>is:global</code></h3>
<p><a href="#isglobal">Section titled is:global</a>
By default, Astro automatically scopes <code>&#x3C;style></code> CSS rules to the component. You can opt-out of this behavior with the <code>is:global</code> directive.</p>
<p><code>is:global</code> makes the contents of a <code>&#x3C;style></code> tag apply globally on the page when the component is included. This disables Astro’s CSS scoping system. This is equivalent to wrapping all of the selectors within a <code>&#x3C;style></code> tag with <code>:global()</code>.</p>
<p>You can combine <code>&#x3C;style></code> and <code>&#x3C;style is:global></code> together in the same component, to create some global style rules while still scoping most of your component CSS.</p>
<p>See the <a href="/en/guides/styling/#global-styles">Styling &#x26; CSS</a> page for more details about how global styles work.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;style is:global>  body a { color: red; }&#x3C;/style></span></span>
<span class="line"><span></span></span></code></pre>
<h3 id="isinline"><code>is:inline</code></h3>
<p><a href="#isinline">Section titled is:inline</a>
By default, Astro will process, optimize, and bundle any <code>&#x3C;script></code> and <code>&#x3C;style></code> tags that it sees on the page. You can opt-out of this behavior with the <code>is:inline</code> directive.</p>
<p><code>is:inline</code> tells Astro to leave the <code>&#x3C;script></code> or <code>&#x3C;style></code> tag as-is in the final output HTML. The contents will not be processed, optimized, or bundled. This limits some Astro features, like importing an npm package or using a compile-to-CSS language like Sass.</p>
<p>The <code>is:inline</code> directive means that <code>&#x3C;style></code> and <code>&#x3C;script></code> tags:</p>
<ul>
<li>Will not be bundled into an external file. This means that <a href="https://javascript.info/script-async-defer">attributes like <code>defer</code></a> which control the loading of an external file will have no effect.</li>
<li>Will not be deduplicated—the element will appear as many times as it is rendered.</li>
<li>Will not have its <code>import</code>/<code>@import</code>/<code>url()</code> references resolved relative to the <code>.astro</code> file.</li>
<li>Will be rendered in the final output HTML exactly where it is authored.</li>
<li>Styles will be global and not scoped to the component.</li>
</ul>
<p>Caution</p>
<p>The <code>is:inline</code> directive is implied whenever any attribute other than <code>src</code> is used on a <code>&#x3C;script></code> or <code>&#x3C;style></code> tag.
The one exception is using the <a href="/en/reference/directives-reference/#definevars"><code>define:vars</code> directive</a> on the <code>&#x3C;style></code> tag, which does not automatically imply <code>is:inline</code>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;style is:inline>  /* inline: relative &#x26; npm package imports are not supported. */  @import '/assets/some-public-styles.css';  span { color: green; }&#x3C;/style></span></span>
<span class="line"><span>&#x3C;script is:inline>  /* inline: relative &#x26; npm package imports are not supported. */  console.log('I am inlined right here in the final output HTML.');&#x3C;/script></span></span>
<span class="line"><span></span></span></code></pre>
<p>See how <a href="/en/guides/client-side-scripts/">client-side scripts</a> work in Astro components.</p>
<h3 id="definevars"><code>define:vars</code></h3>
<p><a href="#definevars">Section titled define:vars</a>
<code>define:vars={...}</code> can pass server-side variables from your component frontmatter into the client <code>&#x3C;script></code> or <code>&#x3C;style></code> tags. Any JSON-serializable frontmatter variable is supported, including <code>props</code> passed to your component through <code>Astro.props</code>. Values are serialized with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify"><code>JSON.stringify()</code></a>.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---const foregroundColor = "rgb(221 243 228)";const backgroundColor = "rgb(24 121 78)";const message = "Astro is awesome!";---&#x3C;style define:vars={{ textColor: foregroundColor, backgroundColor }}>  h1 {    background-color: var(--backgroundColor);    color: var(--textColor);  }&#x3C;/style></span></span>
<span class="line"><span>&#x3C;script define:vars={{ message }}>  alert(message);&#x3C;/script></span></span>
<span class="line"><span></span></span></code></pre>
<p>Caution</p>
<p>Using <code>define:vars</code> on a <code>&#x3C;script></code> tag implies the <a href="#isinline"><code>is:inline</code> directive</a>, which means your scripts won’t be bundled and will be inlined directly into the HTML.</p>
<p>This is because when Astro bundles a script, it includes and runs the script once even if you include the component containing the script multiple times on one page. <code>define:vars</code> requires a script to rerun with each set of values, so Astro creates an inline script instead.</p>
<p>For scripts, try <a href="/en/guides/client-side-scripts/#pass-frontmatter-variables-to-scripts">passing variables to scripts manually</a> instead.</p>
<h2 id="advanced-directives">Advanced Directives</h2>
<p><a href="#advanced-directives">Section titled Advanced Directives</a></p>
<h3 id="israw"><code>is:raw</code></h3>
<p><a href="#israw">Section titled is:raw</a>
<code>is:raw</code> instructs the Astro compiler to treat any children of that element as text. This means that all special Astro templating syntax will be ignored inside of this component.</p>
<p>For example, if you had a custom Katex component that converted some text to HTML, you could have users do this:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>---import Katex from '../components/Katex.astro';---&#x3C;Katex is:raw>Some conflicting {syntax} here&#x3C;/Katex></span></span>
<span class="line"><span></span></span></code></pre>
<p>Reference</p> </div> <div class="prose-a:no-underline flex gap-2"> <span class="badge badge-outline badge-md"> <a href="/tags/documentation/1/">documentation</a> </span><span class="badge badge-outline badge-md"> <a href="/tags/CSharp/1/">CSharp</a> </span><span class="badge badge-outline badge-md"> <a href="/tags/Less/1/">Less</a> </span> </div> <div class="mt-4 flex justify-between"> <small>Publish on <span class="font-weight-bold">2024-02-24</span>，Update on <span class="font-weight-bold">2025-01-09</span></small> </div> </article> <div class="mt-12"> <div class="grid grid-cols-1 gap-4 md:grid-cols-3"> <div class="card mb-4 overflow-hidden rounded-xl border  transition-transform duration-500 hover:-translate-y-1 hover:scale-105"> <a href="/posts/learn-the-basics-basics-astro-pages/"> <picture> <source srcset="/_astro/photo-1463130456064-77fda7f96d6b_ZAMhtG.avif 392w, /_astro/photo-1463130456064-77fda7f96d6b_Z1MkAzp.avif 700w, /_astro/photo-1463130456064-77fda7f96d6b_zovdG.avif 980w, /_astro/photo-1463130456064-77fda7f96d6b_Z1fOymS.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1463130456064-77fda7f96d6b_Z1fOymS.avif" srcset="/_astro/photo-1463130456064-77fda7f96d6b_ZAMhtG.avif 392w, /_astro/photo-1463130456064-77fda7f96d6b_Z1MkAzp.avif 700w, /_astro/photo-1463130456064-77fda7f96d6b_zovdG.avif 980w, /_astro/photo-1463130456064-77fda7f96d6b_Z1fOymS.avif 1960w" alt="white concrete building wall" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> <div class="card-body"> <div class="flex items-center gap-1 text-xs"> <span class="badge badge-outline">documentation</span><span class="badge badge-outline">Python</span><span class="badge badge-outline">Less</span> </div> <p class="text-xs"><span class="font-weight-bold">2024-03-04</span></p> <h2 class="card-title">Pages</h2> </div> </a> </div><div class="card mb-4 overflow-hidden rounded-xl border  transition-transform duration-500 hover:-translate-y-1 hover:scale-105"> <a href="/posts/welcome-world-tutorial-0-introduction/"> <picture> <source srcset="/_astro/photo-1483366774565-c783b9f70e2c_jGYEQ.avif 392w, /_astro/photo-1483366774565-c783b9f70e2c_ZQPjpR.avif 700w, /_astro/photo-1483366774565-c783b9f70e2c_1uSMne.avif 980w, /_astro/photo-1483366774565-c783b9f70e2c_21yqnd.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1483366774565-c783b9f70e2c_21yqnd.avif" srcset="/_astro/photo-1483366774565-c783b9f70e2c_jGYEQ.avif 392w, /_astro/photo-1483366774565-c783b9f70e2c_ZQPjpR.avif 700w, /_astro/photo-1483366774565-c783b9f70e2c_1uSMne.avif 980w, /_astro/photo-1483366774565-c783b9f70e2c_21yqnd.avif 1960w" alt="worm's-eye view photography of concrete building" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> <div class="card-body"> <div class="flex items-center gap-1 text-xs"> <span class="badge badge-outline">astro-build</span><span class="badge badge-outline">Python</span><span class="badge badge-outline">Sass</span> </div> <p class="text-xs"><span class="font-weight-bold">2024-03-03</span></p> <h2 class="card-title">Build your first Astro Blog</h2> </div> </a> </div><div class="card mb-4 overflow-hidden rounded-xl border  transition-transform duration-500 hover:-translate-y-1 hover:scale-105"> <a href="/posts/routes-and-navigation-guides-view-transitions/"> <picture> <source srcset="/_astro/photo-1472377723522-4768db9c41ce_cr2OL.avif 392w, /_astro/photo-1472377723522-4768db9c41ce_ZY6gfW.avif 700w, /_astro/photo-1472377723522-4768db9c41ce_1nCPx9.avif 980w, /_astro/photo-1472377723522-4768db9c41ce_Z1EwWzk.avif 1960w" type="image/avif" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px"> <img src="/_astro/photo-1472377723522-4768db9c41ce_Z1EwWzk.avif" srcset="/_astro/photo-1472377723522-4768db9c41ce_cr2OL.avif 392w, /_astro/photo-1472377723522-4768db9c41ce_ZY6gfW.avif 700w, /_astro/photo-1472377723522-4768db9c41ce_1nCPx9.avif 980w, /_astro/photo-1472377723522-4768db9c41ce_Z1EwWzk.avif 1960w" alt="white and brown concrete house near trees at daytime" sizes="(max-width: 360px) 392px, 
           (max-width: 720px) 700px, 
           (max-width: 1600px) 980px, 
           1960px" class="mx-auto w-full max-w-full object-cover" width="1960" height="1102" loading="lazy" decoding="async"> </picture> <div class="card-body"> <div class="flex items-center gap-1 text-xs"> <span class="badge badge-outline">astro</span><span class="badge badge-outline">Python</span><span class="badge badge-outline">Less</span> </div> <p class="text-xs"><span class="font-weight-bold">2024-03-02</span></p> <h2 class="card-title">View Transitions</h2> </div> </a> </div> </div> </div> </main>  </main> <footer class="mx-auto mt-auto w-full max-w-[85rem] py-10"> <nav class="mx-auto w-full max-w-[85rem] px-4" aria-label="Footer"> <div class="flex flex-col items-center sm:flex-row sm:justify-between"> <div id="navbar-alignment" class="internal-links sm:order-2"> <div class="mt-2 flex flex-row gap-5 sm:mt-0 sm:flex-row sm:items-center sm:ps-5"> <a href="/posts/core-concepts-concepts-why-astro/" class="inline-flex gap-x-2 text-sm"> Astro </a><a href="/posts/assets-guides-styling/" class="inline-flex gap-x-2 text-sm"> Styling </a><a href="/tags/" class="inline-flex gap-x-2 text-sm"> Tags </a> </div> </div> <div class="mt-2 flex flex-wrap gap-2 sm:order-3 sm:mb-0 sm:gap-0"> <button type="button" class="relative inline-flex h-12 w-12 items-center gap-x-2 px-4 py-3 disabled:pointer-events-none disabled:opacity-50"> <a href="/rss.xml" class="absolute inset-0 z-10" aria-label="RSS"></a> <i class="i-tabler-rss icon-base"></i> </button><button type="button" class="relative inline-flex h-12 w-12 items-center gap-x-2 px-4 py-3 disabled:pointer-events-none disabled:opacity-50"> <a href="https://twitter.com/astrodotbuild" class="absolute inset-0 z-10" aria-label="Twitter"></a> <i class="i-tabler-brand-twitter icon-base"></i> </button><button type="button" class="relative inline-flex h-12 w-12 items-center gap-x-2 px-4 py-3 disabled:pointer-events-none disabled:opacity-50"> <a href="https://github.com/isooosi" class="absolute inset-0 z-10" aria-label="GitHub"></a> <i class="i-tabler-brand-github icon-base"></i> </button> </div> <div class="mt-2 sm:order-1 sm:mb-0"> <a class="flex-none text-sm" href="/" aria-label="Brand">AstroMelody &copy; 2025</a> </div> </div> </nav> </footer> </body></html>